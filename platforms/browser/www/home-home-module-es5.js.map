{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","userService","router","following","followingPosts","id","save","db","setTimeout","self","getObservable","subscribe","data","saved","userDoc","sort","a","b","posted","post","bool","likes","user","includes","pid","comments","length","caption","bookmark","unsave","like","arr","push","navigate","unlike","index","indexOf","splice","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Home</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"chatList()\\\"><ion-icon name=\\\"chatbubbles-outline\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-card *ngFor=\\\"let post of followingPosts\\\">\\n    <ion-card-header>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-avatar>\\n            <img [src]=\\\"post.userimg\\\">\\n          </ion-avatar>\\n        <h6 style=\\\"font-weight: bold\\\">‏‏‎ ‎‏‏‎ ‎{{post.username}}</h6>\\n        </ion-item>\\n    </ion-card-header>\\n\\n    <img [src]=\\\"post.image\\\">\\n\\n    <ion-buttons>\\n      <ion-button *ngIf=\\\"!liked(post)\\\" (click)=\\\"like(post)\\\">\\n        <ion-icon name=\\\"heart-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"liked(post)\\\" (click)=\\\"unlike(post)\\\">\\n        <ion-icon class=\\\"border\\\" name=\\\"heart\\\" color=\\\"danger\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"comment(post)\\\">\\n        <ion-icon name=\\\"chatbubble-outline\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button *ngIf=\\\"!saved(post)\\\" (click)=\\\"bookmark(post)\\\"><ion-icon name=\\\"bookmark-outline\\\"></ion-icon></ion-button>\\n      <ion-button *ngIf=\\\"saved(post)\\\" (click)=\\\"unsave(post)\\\"><ion-icon name=\\\"bookmark\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n\\n    <ion-card-content>\\n      <p>{{post.likes?.length}} Likes</p>\\n      <p *ngIf=\\\"ifCaption(post)\\\"><b>{{post.username}}</b>‏‏‎ ‎{{post.caption}}</p>\\n      \\n      <ion-label class=\\\"color\\\" *ngIf=\\\"commentSize(post)\\\" (click)=\\\"comment(post)\\\"> View all {{post.comments?.length}} comments...</ion-label>\\n      <ion-list lines=\\\"none\\\" *ngFor=\\\"let item of post.comments.slice(0,1)\\\">\\n        <p><b>‏‏‎{{item.username}}</b>‏‏‎ ‎{{item.comment}} </p>\\n      </ion-list>\\n    </ion-card-content>\\n    <ion-label>‏‏‎ ‎{{post.posted | date: 'MM/dd/yyyy'}}</ion-label>\\n  </ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"ion-card-header {\\n  padding: 0;\\n}\\n\\nion-card-content {\\n  color: black;\\n}\\n\\n.black {\\n  color: black;\\n}\\n\\n.color {\\n  color: grey;\\n}\\n\\n.size {\\n  width: 100% !important;\\n  height: 100% !important;\\n  max-width: 30px !important;\\n  max-height: 30px !important;\\n}\\n\\n.center {\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: auto;\\n  margin-bottom: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1dHZpa3BhdGVsL2Nsb25lL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7QUNDSjs7QURFQTtFQUNJLFlBQUE7QUNDSjs7QURDQTtFQUNFLFlBQUE7QUNFRjs7QURBQTtFQUNJLFdBQUE7QUNHSjs7QURERTtFQUNFLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQkFBQTtFQUNBLDJCQUFBO0FDSUo7O0FEREU7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0lKIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jYXJkLWhlYWRlciB7XG4gICAgcGFkZGluZzogMDtcbn1cblxuaW9uLWNhcmQtY29udGVudHtcbiAgICBjb2xvcjogYmxhY2s7XG59XG4uYmxhY2sge1xuICBjb2xvcjogYmxhY2s7XG59XG4uY29sb3Ige1xuICAgIGNvbG9yOiBncmV5O1xufVxuICAuc2l6ZSB7XG4gICAgd2lkdGg6MTAwJSAhaW1wb3J0YW50O1xuICAgIGhlaWdodCA6IDEwMCUgIWltcG9ydGFudDtcbiAgICBtYXgtd2lkdGg6IDMwcHggIWltcG9ydGFudDsgIC8vYW55IHNpemVcbiAgICBtYXgtaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7IC8vYW55IHNpemVcbiAgfVxuXG4gIC5jZW50ZXIge1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBtYXJnaW4tdG9wOiBhdXRvO1xuICAgIG1hcmdpbi1ib3R0b206IGF1dG87XG4gIH0iLCJpb24tY2FyZC1oZWFkZXIge1xuICBwYWRkaW5nOiAwO1xufVxuXG5pb24tY2FyZC1jb250ZW50IHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4uYmxhY2sge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5jb2xvciB7XG4gIGNvbG9yOiBncmV5O1xufVxuXG4uc2l6ZSB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xuICBtYXgtd2lkdGg6IDMwcHggIWltcG9ydGFudDtcbiAgbWF4LWhlaWdodDogMzBweCAhaW1wb3J0YW50O1xufVxuXG4uY2VudGVyIHtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgbWFyZ2luLXRvcDogYXV0bztcbiAgbWFyZ2luLWJvdHRvbTogYXV0bztcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\nimport { Router } from '@angular/router';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  following = [];\n  followingPosts = [];\n  id = \"\";\n  save = [];\n\n  db = firebase.firestore();\n  constructor(\n    public userService: UserService,\n    public router: Router\n  ) {\n    setTimeout(() => {\n      var self = this;\n      this.userService.getObservable().subscribe((data) => {\n        this.following = [];\n        this.save = [];\n        this.save = this.userService.saved;\n        self.following = this.userService.followingPosts;\n        self.id = this.userService.userDoc;\n        self.followingPosts = self.following;\n        self.followingPosts.sort((a,b) => (a.posted < b.posted) ? 1: -1);\n      })\n      this.following = [];\n      this.save = [];\n      this.save = this.userService.saved;\n      self.following = this.userService.followingPosts;\n      self.id = this.userService.userDoc;\n      self.followingPosts = self.following;\n      self.followingPosts.sort((a,b) => (a.posted < b.posted) ? 1: -1);\n    }, 1000);\n    \n  }\n\n  liked(post) {\n    var self = this;\n    var bool = false;\n    for(let user of post.likes) {\n      if(user == self.id) {\n        bool = true;\n      }\n    }\n    return bool;\n  }\n\n  saved(post) {\n    var self = this;\n    var bool = false;\n    if(this.save.includes(post.pid)) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  commentSize(post) {\n    var bool = false;\n    var comments = post.comments;\n    if(comments.length !== 0) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  ifCaption(post) {\n    var bool = false;\n    var caption = post.caption;\n    if(caption.length !== 0) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  ngOnInit() {\n  }\n\n  bookmark(post) {\n    this.userService.bookmark(post);\n  }\n  \n  unsave(post) {\n    this.userService.unsave(post);\n  }\n  \n  like(post) {\n    this.userService.like(post);\n    var arr = post.likes;\n    arr.push(this.id)\n  }\n\n  comment(post) {\n    this.router.navigate([\"/comments\",post])\n  }\n  \n  unlike(post) {\n    this.userService.unlike(post);\n    var arr = post.likes;\n    const index = arr.indexOf(this.id, 0);\n    if(index > -1) {\n      arr.splice(index, 1);\n    }\n  }\n\n  chatList() {\n    this.router.navigate([\"/chatlist\"]);\n  }\n}\n"]}