{"version":3,"sources":["webpack:///src/app/post/post.page.html","webpack:///src/app/post/post-routing.module.ts","webpack:///src/app/post/post.module.ts","webpack:///src/app/post/post.page.scss","webpack:///src/app/post/post.page.ts"],"names":["routes","path","component","PostPageRoutingModule","imports","forChild","exports","PostPageModule","declarations","PostPage","camera","userService","img","randomId","Math","random","toString","substr","caption","cam","post","sourceType","self","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","correctOrientation","targetHeight","targetWidth","getPicture","then","imageData","base64Image","picture","ref","putString","err","storageRef","child","getDownloadURL","url","makePost","setTimeout","selector","template"],"mappings":"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","file":"post-post-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title class=\\\"ion-text-center\\\">\\n      <strong>Post a Picture</strong>\\n      </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-grid>\\n    <ion-row>\\n    <ion-col>\\n      <ion-button disabled={{cam}} expand=\\\"block\\\" (click)=\\\"takePic(1)\\\">Capture</ion-button>\\n    </ion-col>\\n    <ion-col>\\n      <ion-button disabled={{cam}} expand=\\\"block\\\" (click)=\\\"takePic(0)\\\">Gallery</ion-button>\\n    </ion-col>\\n  </ion-row>\\n  </ion-grid>\\n\\n  <img [src]=\\\"img\\\"/>\\n  <div class=\\\"padding\\\"> Remaining Characters: {{150 - caption.length}}</div>\\n  <ion-item lines=\\\"none\\\">\\n    <ion-textarea maxLength=150 [(ngModel)]=\\\"caption\\\" placeHolder=\\\"Add a Caption...\\\"></ion-textarea>\\n  </ion-item>\\n  <h1></h1>\\n  <ion-button disabled={{post}} (click)=\\\"makePost()\\\" class=\\\"ion-padding\\\" expand=\\\"block\\\">Post</ion-button>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PostPage } from './post.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PostPageRoutingModule } from './post-routing.module';\n\nimport { PostPage } from './post.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PostPageRoutingModule\n  ],\n  declarations: [PostPage]\n})\nexport class PostPageModule {}\n","export default \"ion-header {\\n  --ion-background-color: peachpuff;\\n}\\n\\nion-content {\\n  --ion-background-color: peachpuff;\\n}\\n\\nion-textarea {\\n  border-radius: 10px;\\n  background: #ffe3ca;\\n  padding-left: 10px;\\n}\\n\\nimg {\\n  margin: auto;\\n  display: block;\\n}\\n\\n.padding {\\n  padding-top: 30px;\\n  padding-left: 20px;\\n  color: grey;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1dHZpa3BhdGVsL2Nsb25lL3NyYy9hcHAvcG9zdC9wb3N0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcG9zdC9wb3N0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlDQUFBO0FDQ0o7O0FERUE7RUFDSSxpQ0FBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wb3N0L3Bvc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcGVhY2hwdWZmO1xufVxuXG5pb24tY29udGVudCB7XG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcGVhY2hwdWZmO1xufVxuXG5pb24tdGV4dGFyZWEge1xuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gICAgYmFja2dyb3VuZDogI2ZmZTNjYTtcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG59XG5cbmltZ3tcbiAgICBtYXJnaW46IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuLnBhZGRpbmcge1xuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIHBhZGRpbmctbGVmdDogMjBweDtcbiAgICBjb2xvcjogZ3JleTtcbiAgICBkaXNwbGF5OiBibG9jaztcbn0iLCJpb24taGVhZGVyIHtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcGVhY2hwdWZmO1xufVxuXG5pb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHBlYWNocHVmZjtcbn1cblxuaW9uLXRleHRhcmVhIHtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZDogI2ZmZTNjYTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuXG5pbWcge1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4ucGFkZGluZyB7XG4gIHBhZGRpbmctdG9wOiAzMHB4O1xuICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG4gIGNvbG9yOiBncmV5O1xuICBkaXNwbGF5OiBibG9jaztcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { UserService } from '../user.service';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.page.html',\n  styleUrls: ['./post.page.scss'],\n})\nexport class PostPage implements OnInit {\n\n  img=\"/assets/test.png\";\n  randomId = Math.random().toString(36).substr(2, 5);\n  caption = \"\";\n  cam = false;\n  post = true;\n\n  constructor(\n    private camera: Camera,\n    public userService: UserService\n  ) {\n\n   }\n\n  ngOnInit() {\n  }\n\n  takePic(sourceType:number) {\n    var self = this;\n    const options: CameraOptions = {\n      quality: 50,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      correctOrientation: true,\n      sourceType:sourceType,\n      targetHeight: 500,\n      targetWidth: 500,\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      let base64Image = `data:image/jpeg;base64,${imageData}`;\n      self.img = base64Image;\n      self.cam = true;\n      self.post = false;\n\n      const picture = firebase.storage().ref(this.randomId);\n      picture.putString(base64Image,'data_url');\n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  makePost() {\n    var self = this;\n    var storageRef = firebase.storage().ref();\n    storageRef.child(this.randomId).getDownloadURL().then(function(url) {\n      self.userService.makePost(url,self.caption);\n    });\n\n    setTimeout(() => {\n      this.img = \"assets/test.png\";\n      this.cam = false;\n      this.post = true;\n      this.caption = \"\";\n      this.randomId = Math.random().toString(36).substr(2, 5);\n    }, 500);\n  }\n\n}\n"]}