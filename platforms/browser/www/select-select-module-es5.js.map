{"version":3,"sources":["webpack:///src/app/select/select.page.html","webpack:///src/app/select/select-routing.module.ts","webpack:///src/app/select/select.module.ts","webpack:///src/app/select/select.page.scss","webpack:///src/app/select/select.page.ts"],"names":["routes","path","component","SelectPageRoutingModule","imports","forChild","exports","SelectPageModule","declarations","SelectPage","userService","users","allfollowers","chatUser","initializeList","getObservable","subscribe","data","followers","friend","status","push","event","val","target","value","trim","filter","user","username","toLocaleLowerCase","indexOf","toLowerCase","bool","length","includes","self","index","splice","uid","console","log","createChat","selector","template"],"mappings":"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","file":"select-select-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Select user to chat</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button [disabled]=\\\"!selected()\\\" (click)=\\\"startChat()\\\">Chat</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-searchbar style=\\\"--background:#ffe3ca\\\" (ionInput)=\\\"filterList($event)\\\"></ion-searchbar>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item *ngFor=\\\"let user of users\\\">\\n      <ion-label class=\\\"ion-text-wrap\\\">\\n        <ion-avatar>\\n          <img [src]=\\\"user.image\\\"/>\\n        </ion-avatar>\\n      </ion-label>\\n      <ion-label>\\n        {{user.username}}\\n      </ion-label>\\n      <ion-checkbox [disabled]=\\\"userSelect(user)\\\" slot=\\\"end\\\" (ionChange)=\\\"select(user)\\\"></ion-checkbox>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectPage } from './select.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectPageRoutingModule } from './select-routing.module';\n\nimport { SelectPage } from './select.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SelectPageRoutingModule\n  ],\n  declarations: [SelectPage]\n})\nexport class SelectPageModule {}\n","export default \"ion-content {\\n  --ion-background-color: peachpuff;\\n}\\n\\nion-header {\\n  --ion-background-color: peachpuff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1dHZpa3BhdGVsL2Nsb25lL3NyYy9hcHAvc2VsZWN0L3NlbGVjdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3NlbGVjdC9zZWxlY3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUNBQUE7QUNDSjs7QURDQTtFQUNJLGlDQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9zZWxlY3Qvc2VsZWN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiBwZWFjaHB1ZmY7XG59XG5pb24taGVhZGVyIHtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiBwZWFjaHB1ZmY7XG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiBwZWFjaHB1ZmY7XG59XG5cbmlvbi1oZWFkZXIge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiBwZWFjaHB1ZmY7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-select',\n  templateUrl: './select.page.html',\n  styleUrls: ['./select.page.scss'],\n})\nexport class SelectPage implements OnInit {\n\n  users = [];\n  allfollowers = [];\n  chatUser = [];\n\n\n  constructor(\n    public userService: UserService\n  ) {\n    this.initializeList();\n  }\n\n  ngOnInit() {\n  }\n\n  initializeList() {\n    this.userService.getObservable().subscribe((data) => {\n      this.allfollowers = this.userService.followers;\n      this.users = [];\n\n      for(let friend of this.allfollowers){\n        if(friend.status != \"req\") {\n          this.users.push(friend);\n        }\n      }\n    });\n\n    this.allfollowers = this.userService.followers;\n    this.users = [];\n    for(let friend of this.allfollowers){\n      if(friend.status != \"req\") {\n        this.users.push(friend);\n      }\n    }\n  }\n\n  async filterList(event) {\n    this.initializeList();\n    const val = event.target.value;\n    if(val && val.trim() != '') {\n      this.users = this.users.filter((user: Users) => {\n        return (user.username.toLocaleLowerCase().indexOf(val.toLowerCase()) > -1)\n      })\n    }\n  }\n\n  selected() {\n    var bool = false;\n    if(this.chatUser.length != 0) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  userSelect(user) {\n    var bool = false;\n    if(this.chatUser.length != 0 && !this.chatUser.includes(user)) {\n      bool = true;\n    }\n    return bool;\n  }\n\n  select(user) {\n    var self = this;\n    if(this.chatUser.includes(user)) {\n      const index = self.chatUser.indexOf(user);\n      if (index > -1) {\n        self.chatUser.splice(index, 1);\n      }\n    } else {\n    this.chatUser.push(user)\n    }\n  }\n\n  startChat() {\n    var uid = this.chatUser[0].uid;\n    console.log(uid);\n    this.userService.createChat(this.chatUser)\n  }\n\n}\n\nexport interface Users {\n  username: string;\n}"]}