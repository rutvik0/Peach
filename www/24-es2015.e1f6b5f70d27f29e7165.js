(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{zFnc:function(e,t,r){"use strict";r.r(t),r.d(t,"EditPageModule",(function(){return d}));var i=r("ofXK"),n=r("3Pt+"),a=r("TEn/"),s=r("tyNb"),o=r("mrSG"),u=r("Osjz"),c=r("fXoL"),l=r("xdv0"),b=r("a/9d");const g=[{path:"",component:(()=>{class e{constructor(e,t,r,i){this.router=e,this.alertCtrl=t,this.userService=r,this.camera=i,this.currUser={status:"",username:"",image:"",fullname:"",privateStat:!0},this.original={status:"",username:"",image:"",fullname:"",privateStat:!0},this.randomId=Math.random().toString(36).substr(2,5),this.userService.getObservable().subscribe(e=>{this.currUser.username=this.userService.username,this.currUser.image=this.userService.image,this.currUser.fullname=this.userService.fullname,this.currUser.status=this.userService.status,this.currUser.privateStat=this.userService.privateStat,this.original.username=this.userService.username,this.original.image=this.userService.image,this.original.fullname=this.userService.fullname,this.original.status=this.userService.status,this.original.privateStat=this.userService.privateStat}),this.currUser.username=this.userService.username,this.currUser.image=this.userService.image,this.currUser.fullname=this.userService.fullname,this.currUser.status=this.userService.status,this.currUser.privateStat=this.userService.privateStat,this.original.username=this.userService.username,this.original.image=this.userService.image,this.original.fullname=this.userService.fullname,this.original.status=this.userService.status,this.original.privateStat=this.userService.privateStat}ngOnInit(){}editPhoto(){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Upload or Remove",message:"Do you want to upload your profile or remove?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{console.log("Cancel button clicked")}},{text:"Capture",role:"capture",handler:()=>{console.log("Upload button clicked"),this.takePic(1)}},{text:"Galery",role:"gallery",handler:()=>{console.log("Upload button clicked"),this.takePic(0)}},{text:"Remove",role:"remove",handler:()=>{this.removePic(),this.currUser.image="assets/avatar.png"}}]});yield e.present()}))}logout(){u.auth().signOut().then((function(){console.log("You are logged Out. Good Bye!!")})).catch((function(e){})),this.router.navigate(["/login"])}removePic(){"assets/avatar.png"!=this.currUser.image?(this.currUser.image="assets/avatar.png",this.userService.removeProfilePic()):console.log("No image available")}takePic(e){return Object(o.a)(this,void 0,void 0,(function*(){var t=this;this.camera.getPicture({quality:50,destinationType:this.camera.DestinationType.DATA_URL,targetHeight:400,targetWidth:400,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,correctOrientation:!0,sourceType:e}).then(e=>{const r=`data:image/jpeg;base64,${e}`;u.storage().ref(this.randomId).putString(r,"data_url"),setTimeout(()=>{u.storage().ref().child(this.randomId).getDownloadURL().then((function(e){t.currUser.image=e,t.userService.updateImage(e)}))},2e3)})}))}apply(){this.userService.updateProfile(this.currUser.fullname,this.currUser.username,this.currUser.status,this.currUser.privateStat)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(s.g),c.Jb(a.a),c.Jb(l.a),c.Jb(b.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-edit"]],decls:35,vars:6,consts:[["slot","start"],["slot","end"],[3,"click"],["name","log-out-outline"],[1,"ion-padding"],[3,"src"],["lines","none",1,"ion-text-center",3,"click"],[1,"blue"],["lines","none"],["color","primary","position","floating"],["rows","1","type","text","required","",3,"ngModel","ngModelChange"],["cols","1","rows","1","type","text","required","",3,"ngModel","ngModelChange"],["type","text","required","",3,"ngModel","ngModelChange"],["color","primary"],[3,"ngModel","ngModelChange"],["expand","block",1,"ion-padding",3,"disabled","click"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-title"),c.ic(3,"Edit Profile"),c.Lb(),c.Mb(4,"ion-buttons",0),c.Kb(5,"ion-back-button"),c.Lb(),c.Mb(6,"ion-buttons",1),c.Mb(7,"ion-button",2),c.Ub("click",(function(){return t.logout()})),c.Kb(8,"ion-icon",3),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(9,"ion-content",4),c.Mb(10,"ion-avatar",4),c.Kb(11,"img",5),c.Lb(),c.Mb(12,"ion-item",6),c.Ub("click",(function(){return t.editPhoto()})),c.Mb(13,"ion-label"),c.Mb(14,"h6",7),c.Mb(15,"u"),c.ic(16,"Update Profile Picture"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(17,"ion-item",8),c.Mb(18,"ion-label",9),c.ic(19,"Full Name"),c.Lb(),c.Mb(20,"ion-textarea",10),c.Ub("ngModelChange",(function(e){return t.currUser.fullname=e})),c.Lb(),c.Lb(),c.Mb(21,"ion-item",8),c.Mb(22,"ion-label",9),c.ic(23,"Username"),c.Lb(),c.Mb(24,"ion-textarea",11),c.Ub("ngModelChange",(function(e){return t.currUser.username=e})),c.Lb(),c.Lb(),c.Mb(25,"ion-item",8),c.Mb(26,"ion-label",9),c.ic(27,"Status"),c.Lb(),c.Mb(28,"ion-textarea",12),c.Ub("ngModelChange",(function(e){return t.currUser.status=e})),c.Lb(),c.Lb(),c.Mb(29,"ion-item",8),c.Mb(30,"ion-label",13),c.ic(31,"Private Profile"),c.Lb(),c.Mb(32,"ion-toggle",14),c.Ub("ngModelChange",(function(e){return t.currUser.privateStat=e})),c.Lb(),c.Lb(),c.Mb(33,"ion-button",15),c.Ub("click",(function(){return t.apply()})),c.ic(34,"Apply Changes"),c.Lb(),c.Lb()),2&e&&(c.zb(11),c.bc("src",t.currUser.image,c.fc),c.zb(9),c.bc("ngModel",t.currUser.fullname),c.zb(4),c.bc("ngModel",t.currUser.username),c.zb(4),c.bc("ngModel",t.currUser.status),c.zb(4),c.bc("ngModel",t.currUser.privateStat),c.zb(1),c.bc("disabled",!(t.currUser.username!==t.original.username||t.currUser.fullname!==t.original.fullname||t.currUser.status!==t.original.status||t.currUser.privateStat!==t.original.privateStat)))},directives:[a.q,a.I,a.G,a.h,a.e,a.f,a.g,a.r,a.n,a.d,a.u,a.v,a.F,a.N,n.l,n.h,n.j,a.H,a.b],styles:["ion-avatar[_ngcontent-%COMP%]{margin:auto;display:block;width:100%!important;height:100%!important;max-width:200px!important;max-height:200px!important}ion-content[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:#ffdab9}ion-textarea[_ngcontent-%COMP%]{padding-left:10px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border-radius:10px;background:#ffe3ca}ion-input[_ngcontent-%COMP%]{text-indent:20px}.blue[_ngcontent-%COMP%]{color:#00f;border-bottom:#00f}"]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(g)],s.i]}),e})(),d=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[i.b,n.e,a.J,h]]}),e})()}}]);