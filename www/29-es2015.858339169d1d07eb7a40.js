(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7UCR":function(n,i,o){"use strict";o.r(i),o.d(i,"UserPageModule",(function(){return F}));var t=o("ofXK"),e=o("3Pt+"),c=o("TEn/"),b=o("tyNb"),s=o("mrSG"),r=o("Osjz"),l=o("fXoL"),u=o("xdv0");function a(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-col"),l.Mb(1,"ion-button",7),l.Ub("click",(function(){return l.ec(n),l.Wb().follow()})),l.ic(2,"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200efollow\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e"),l.Lb(),l.Lb()}}function f(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-col"),l.Mb(1,"ion-button",8),l.Ub("click",(function(){return l.ec(n),l.Wb().unfollow()})),l.ic(2,"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200efollow\u200f\u200f\u200eing \u200e\u200f\u200f\u200e \u200e"),l.Lb(),l.Lb()}}function d(n,i){if(1&n&&(l.Mb(0,"div",10),l.Mb(1,"h4",4),l.ic(2),l.Lb(),l.Lb()),2&n){const n=l.Wb(2);l.zb(2),l.kc("",n.current_user.fullname,"'s Profile is private, follow to see posts")}}function g(n,i){if(1&n&&(l.Mb(0,"ion-col",19),l.Kb(1,"img",20),l.Lb()),2&n){const n=i.$implicit;l.zb(1),l.bc("src",n.image,l.fc)}}function m(n,i){if(1&n&&(l.Mb(0,"ion-list"),l.Mb(1,"ion-grid"),l.Mb(2,"ion-row"),l.hc(3,g,2,1,"ion-col",18),l.Lb(),l.Lb(),l.Lb()),2&n){const n=l.Wb(3);l.zb(3),l.bc("ngForOf",n.posts)}}function p(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",24),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(4).like(i)})),l.Kb(1,"ion-icon",28),l.Lb()}}function h(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",24),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(4).unlike(i)})),l.Kb(1,"ion-icon",29),l.Lb()}}function M(n,i){if(1&n&&(l.Mb(0,"p"),l.Mb(1,"b"),l.ic(2),l.Lb(),l.ic(3),l.Lb()),2&n){const n=l.Wb().$implicit;l.zb(2),l.jc(n.username),l.zb(1),l.kc("\u200f\u200f\u200e \u200e",n.caption,"")}}function L(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-label",30),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(4).comment(i)})),l.ic(1),l.Lb()}if(2&n){const n=l.Wb().$implicit;l.zb(1),l.kc(" View all ",null==n.comments?null:n.comments.length," comments...")}}function z(n,i){if(1&n&&(l.Mb(0,"ion-list",1),l.Mb(1,"p"),l.Mb(2,"b"),l.ic(3),l.Lb(),l.ic(4),l.Lb(),l.Lb()),2&n){const n=i.$implicit;l.zb(3),l.kc("\u200f\u200f\u200e",n.username,""),l.zb(1),l.kc("\u200f\u200f\u200e \u200e",n.comment," ")}}function k(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-card"),l.Mb(1,"ion-card-header"),l.Mb(2,"ion-item",1),l.Mb(3,"ion-avatar"),l.Kb(4,"img",20),l.Lb(),l.Mb(5,"h6",22),l.ic(6),l.Lb(),l.Lb(),l.Lb(),l.Kb(7,"img",20),l.Mb(8,"ion-buttons"),l.hc(9,p,2,0,"ion-button",23),l.hc(10,h,2,0,"ion-button",23),l.Mb(11,"ion-button",24),l.Ub("click",(function(){l.ec(n);const o=i.$implicit;return l.Wb(4).comment(o)})),l.Kb(12,"ion-icon",25),l.Lb(),l.Lb(),l.Mb(13,"ion-card-content"),l.Mb(14,"p"),l.ic(15),l.Lb(),l.hc(16,M,4,2,"p",5),l.hc(17,L,2,1,"ion-label",26),l.hc(18,z,5,2,"ion-list",27),l.Lb(),l.Mb(19,"ion-label"),l.ic(20),l.Xb(21,"date"),l.Lb(),l.Lb()}if(2&n){const n=i.$implicit,o=l.Wb(4);l.zb(4),l.bc("src",n.userimg,l.fc),l.zb(2),l.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",n.username,""),l.zb(1),l.bc("src",n.image,l.fc),l.zb(2),l.bc("ngIf",!o.liked(n)),l.zb(1),l.bc("ngIf",o.liked(n)),l.zb(5),l.kc("",null==n.likes?null:n.likes.length," Likes"),l.zb(1),l.bc("ngIf",o.ifCaption(n)),l.zb(1),l.bc("ngIf",o.commentSize(n)),l.zb(1),l.bc("ngForOf",n.comments.slice(0,1)),l.zb(2),l.kc("\u200f\u200f\u200e \u200e",l.Yb(21,10,n.posted,"MM/dd/yyyy"),"")}}function w(n,i){if(1&n&&(l.Mb(0,"ion-list"),l.hc(1,k,22,13,"ion-card",21),l.Lb()),2&n){const n=l.Wb(3);l.zb(1),l.bc("ngForOf",n.posts)}}function v(n,i){if(1&n){const n=l.Nb();l.Mb(0,"div"),l.Mb(1,"div"),l.Mb(2,"ion-segment",11),l.Ub("ngModelChange",(function(i){return l.ec(n),l.Wb(2).profile_segment=i})),l.Mb(3,"ion-segment-button",12),l.Kb(4,"ion-icon",13),l.Lb(),l.Mb(5,"ion-segment-button",14),l.Kb(6,"ion-icon",15),l.Lb(),l.Lb(),l.Lb(),l.Mb(7,"div",16),l.hc(8,m,4,1,"ion-list",17),l.hc(9,w,2,1,"ion-list",17),l.Lb(),l.Lb()}if(2&n){const n=l.Wb(2);l.zb(2),l.bc("ngModel",n.profile_segment),l.zb(5),l.bc("ngSwitch",n.profile_segment),l.zb(1),l.bc("ngSwitchCase","grid"),l.zb(1),l.bc("ngSwitchCase","list")}}function _(n,i){if(1&n&&(l.Mb(0,"div"),l.hc(1,d,3,1,"div",9),l.hc(2,v,10,4,"div",5),l.Lb()),2&n){const n=l.Wb();l.zb(1),l.bc("ngIf","true"===n.current_user.privateStat),l.zb(1),l.bc("ngIf","false"===n.current_user.privateStat)}}function C(n,i){if(1&n&&(l.Mb(0,"ion-col",19),l.Kb(1,"img",20),l.Lb()),2&n){const n=i.$implicit;l.zb(1),l.bc("src",n.image,l.fc)}}function W(n,i){if(1&n&&(l.Mb(0,"ion-list"),l.Mb(1,"ion-grid"),l.Mb(2,"ion-row"),l.hc(3,C,2,1,"ion-col",18),l.Lb(),l.Lb(),l.Lb()),2&n){const n=l.Wb(2);l.zb(3),l.bc("ngForOf",n.posts)}}function O(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",24),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(3).like(i)})),l.Kb(1,"ion-icon",28),l.Lb()}}function y(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",24),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(3).unlike(i)})),l.Kb(1,"ion-icon",29),l.Lb()}}function S(n,i){if(1&n&&(l.Mb(0,"p"),l.Mb(1,"b"),l.ic(2),l.Lb(),l.ic(3),l.Lb()),2&n){const n=l.Wb().$implicit;l.zb(2),l.jc(n.username),l.zb(1),l.kc("\u200f\u200f\u200e \u200e",n.caption,"")}}function I(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-label",30),l.Ub("click",(function(){l.ec(n);const i=l.Wb().$implicit;return l.Wb(3).comment(i)})),l.ic(1),l.Lb()}if(2&n){const n=l.Wb().$implicit;l.zb(1),l.kc(" View all ",null==n.comments?null:n.comments.length," comments...")}}function U(n,i){if(1&n&&(l.Mb(0,"ion-list",1),l.Mb(1,"p"),l.Mb(2,"b"),l.ic(3),l.Lb(),l.ic(4),l.Lb(),l.Lb()),2&n){const n=i.$implicit;l.zb(3),l.kc("\u200f\u200f\u200e",n.username,""),l.zb(1),l.kc("\u200f\u200f\u200e \u200e",n.comment," ")}}function x(n,i){if(1&n){const n=l.Nb();l.Mb(0,"ion-card"),l.Mb(1,"ion-card-header"),l.Mb(2,"ion-item",1),l.Mb(3,"ion-avatar"),l.Kb(4,"img",20),l.Lb(),l.Mb(5,"h6",22),l.ic(6),l.Lb(),l.Lb(),l.Lb(),l.Kb(7,"img",20),l.Mb(8,"ion-buttons"),l.hc(9,O,2,0,"ion-button",23),l.hc(10,y,2,0,"ion-button",23),l.Mb(11,"ion-button",24),l.Ub("click",(function(){l.ec(n);const o=i.$implicit;return l.Wb(3).comment(o)})),l.Kb(12,"ion-icon",25),l.Lb(),l.Lb(),l.Mb(13,"ion-card-content"),l.Mb(14,"p"),l.ic(15),l.Lb(),l.hc(16,S,4,2,"p",5),l.hc(17,I,2,1,"ion-label",26),l.hc(18,U,5,2,"ion-list",27),l.Lb(),l.Mb(19,"ion-label"),l.ic(20),l.Xb(21,"date"),l.Lb(),l.Lb()}if(2&n){const n=i.$implicit,o=l.Wb(3);l.zb(4),l.bc("src",n.userimg,l.fc),l.zb(2),l.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",n.username,""),l.zb(1),l.bc("src",n.image,l.fc),l.zb(2),l.bc("ngIf",!o.liked(n)),l.zb(1),l.bc("ngIf",o.liked(n)),l.zb(5),l.kc("",null==n.likes?null:n.likes.length," Likes"),l.zb(1),l.bc("ngIf",o.ifCaption(n)),l.zb(1),l.bc("ngIf",o.commentSize(n)),l.zb(1),l.bc("ngForOf",n.comments.slice(0,1)),l.zb(2),l.kc("\u200f\u200f\u200e \u200e",l.Yb(21,10,n.posted,"MM/dd/yyyy"),"")}}function K(n,i){if(1&n&&(l.Mb(0,"ion-list"),l.hc(1,x,22,13,"ion-card",21),l.Lb()),2&n){const n=l.Wb(2);l.zb(1),l.bc("ngForOf",n.posts)}}function P(n,i){if(1&n){const n=l.Nb();l.Mb(0,"div"),l.Mb(1,"div"),l.Mb(2,"ion-segment",11),l.Ub("ngModelChange",(function(i){return l.ec(n),l.Wb().profile_segment=i})),l.Mb(3,"ion-segment-button",12),l.Kb(4,"ion-icon",13),l.Lb(),l.Mb(5,"ion-segment-button",14),l.Kb(6,"ion-icon",15),l.Lb(),l.Lb(),l.Lb(),l.Mb(7,"div",16),l.hc(8,W,4,1,"ion-list",17),l.hc(9,K,2,1,"ion-list",17),l.Lb(),l.Lb()}if(2&n){const n=l.Wb();l.zb(2),l.bc("ngModel",n.profile_segment),l.zb(5),l.bc("ngSwitch",n.profile_segment),l.zb(1),l.bc("ngSwitchCase","grid"),l.zb(1),l.bc("ngSwitchCase","list")}}const $=[{path:"",component:(()=>{class n{constructor(n,i,o,t,e){this.route=n,this.router=i,this.userService=o,this.alertController=t,this.toastController=e,this.db=r.firestore(),this.postId=[],this.posts=[],this.profile_segment="grid";var c=this;setTimeout(()=>{this.db.collection("users").doc(c.current_user.id).get().then((function(n){var i=n.data();c.postId=i.posts})),setTimeout(()=>{for(let n of c.postId)this.db.collection("posts").doc(n).get().then((function(n){var i=n.data();c.posts.push({caption:i.caption,comments:i.comments,id:i.id,image:i.image,likes:i.likes,posted:i.posted,userimg:i.userimg,username:i.username,pid:n.id})}))},300)},50),this.userService.getObservable().subscribe(n=>{this.followingUser=this.userService.following}),this.followingUser=this.userService.following}ngOnInit(){this.route.params.subscribe(n=>{this.current_user=n})}commentSize(n){var i=!1;return 0!==n.comments.length&&(i=!0),i}ifCaption(n){var i=!1;return 0!==n.caption.length&&(i=!0),i}follow(){var n=this,i=!0,o=r.auth().currentUser.uid;this.db.collection("users").doc(n.current_user.id).onSnapshot(n=>{var t=n.data().followers;for(let e of t)e.uid==o&&(i=!1)}),setTimeout((function(){i?(n.followToast(),n.userService.follow(n.current_user)):n.alreadyToast()}),1e3)}alreadyToast(){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({color:"danger",message:"Follow request already sent",position:"bottom",duration:1e3})).present()}))}followToast(){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({color:"success",message:"Follow request sent",position:"bottom",duration:1e3})).present()}))}following(){var n=!1;for(let i of this.followingUser)i.uid==this.current_user.uid&&(n=!0);return n}unfollow(){return Object(s.a)(this,void 0,void 0,(function*(){var n=this;const i=yield this.alertController.create({header:"Unfollow",message:"Please confirm unfollow",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Confirm",role:"confirm",handler:()=>{n.userService.unfollow(this.current_user),n.unfollowToast()}}]});yield i.present()}))}unfollowToast(){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({color:"success",message:"User unfollowed",position:"bottom",duration:1e3})).present()}))}liked(n){var i=!1;for(let o of n.likes)o==this.userService.userDoc&&(i=!0);return i}like(n){this.userService.like(n),n.likes.push(this.userService.userDoc)}comment(n){this.router.navigate(["/comments",n])}unlike(n){this.userService.unlike(n);var i=n.likes;const o=i.indexOf(this.userService.userDoc,0);o>-1&&i.splice(o,1)}}return n.\u0275fac=function(i){return new(i||n)(l.Jb(b.a),l.Jb(b.g),l.Jb(u.a),l.Jb(c.a),l.Jb(c.O))},n.\u0275cmp=l.Db({type:n,selectors:[["app-user"]],decls:39,vars:11,consts:[["slot","start"],["lines","none"],[1,"ion-padding","bottom"],[1,"avatar",3,"src"],[1,"ion-text-center"],[4,"ngIf"],[1,"padding"],["expand","block",3,"click"],["fill","outline","expand","block",3,"click"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"ngModel","ngModelChange"],["value","grid"],["name","apps"],["value","list"],["name","browsers-sharp"],[3,"ngSwitch"],[4,"ngSwitchCase"],["sizeLg","4","sizeMd","4","sizeXs","4",4,"ngFor","ngForOf"],["sizeLg","4","sizeMd","4","sizeXs","4"],[3,"src"],[4,"ngFor","ngForOf"],[2,"font-weight","bold"],[3,"click",4,"ngIf"],[3,"click"],["name","chatbubble-outline"],["class","color",3,"click",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],["name","heart-outline"],["name","heart","color","danger",1,"border"],[1,"color",3,"click"]],template:function(n,i){1&n&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.ic(3),l.Lb(),l.Mb(4,"ion-buttons",0),l.Kb(5,"ion-back-button"),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content"),l.Mb(7,"ion-item",1),l.Mb(8,"ion-row",2),l.Mb(9,"ion-col"),l.Kb(10,"img",3),l.Lb(),l.Mb(11,"ion-col",4),l.Mb(12,"h6"),l.ic(13),l.Lb(),l.Mb(14,"p"),l.Mb(15,"strong"),l.ic(16,"Posts"),l.Lb(),l.Lb(),l.Lb(),l.Mb(17,"ion-col",4),l.Mb(18,"h6"),l.ic(19),l.Lb(),l.Mb(20,"p"),l.Mb(21,"strong"),l.ic(22,"Followers"),l.Lb(),l.Lb(),l.Lb(),l.Mb(23,"ion-col",4),l.Mb(24,"h6"),l.ic(25),l.Lb(),l.Mb(26,"p"),l.Mb(27,"strong"),l.ic(28,"Following"),l.Lb(),l.Lb(),l.Lb(),l.hc(29,a,3,0,"ion-col",5),l.hc(30,f,3,0,"ion-col",5),l.Lb(),l.Lb(),l.Mb(31,"div",6),l.Mb(32,"p"),l.Mb(33,"b"),l.ic(34),l.Lb(),l.Lb(),l.Mb(35,"p"),l.ic(36),l.Lb(),l.Lb(),l.hc(37,_,3,2,"div",5),l.hc(38,P,10,4,"div",5),l.Lb()),2&n&&(l.zb(3),l.kc("",i.current_user.username,"'s Profile"),l.zb(7),l.bc("src",i.current_user.image,l.fc),l.zb(3),l.jc(i.current_user.posts),l.zb(6),l.jc(i.current_user.followers),l.zb(6),l.jc(i.current_user.following),l.zb(4),l.bc("ngIf",!i.following()),l.zb(1),l.bc("ngIf",i.following()),l.zb(4),l.jc(i.current_user.fullname),l.zb(2),l.jc(i.current_user.status),l.zb(1),l.bc("ngIf",!i.following()),l.zb(1),l.bc("ngIf",i.following()))},directives:[c.q,c.I,c.G,c.h,c.e,c.f,c.n,c.u,c.y,c.m,t.j,c.g,c.A,c.M,e.h,e.j,c.B,c.r,t.k,t.l,c.w,c.p,t.i,c.i,c.k,c.d,c.j,c.v],pipes:[t.d],styles:["ion-content[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:#ffdab9}.padding[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:20px}.lines[_ngcontent-%COMP%]{border-bottom:1px solid grey;border-top:1px solid grey}.bottom[_ngcontent-%COMP%]{padding-bottom:0}.avatar[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:600px!important;max-height:600px!important;border-radius:30px}ion-card-header[_ngcontent-%COMP%]{padding:0}.black[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{color:#000}.color[_ngcontent-%COMP%]{color:grey}.size[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:30px!important;max-height:30px!important}.center[_ngcontent-%COMP%]{margin:auto}"]}),n})()}];let j=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(i){return new(i||n)},imports:[[b.i.forChild($)],b.i]}),n})(),F=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(i){return new(i||n)},imports:[[t.b,e.e,c.J,j]]}),n})()}}]);