function _createForOfIteratorHelper(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=_unsupportedIterableToArray(n))){var e=0,t=function(){};return{s:t,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,c=!1;return{s:function(){i=n[Symbol.iterator]()},n:function(){var n=i.next();return r=n.done,n},e:function(n){c=!0,o=n},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"7UCR":function(n,e,t){"use strict";t.r(e),t.d(e,"UserPageModule",(function(){return A}));var i=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),c=t("tyNb"),b=t("mrSG"),a=t("Osjz"),s=t("fXoL"),l=t("xdv0");function u(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-col"),s.Mb(1,"ion-button",7),s.Ub("click",(function(){return s.ec(t),s.Wb().follow()})),s.ic(2,"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200efollow\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e"),s.Lb(),s.Lb()}}function f(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-col"),s.Mb(1,"ion-button",8),s.Ub("click",(function(){return s.ec(t),s.Wb().unfollow()})),s.ic(2,"\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200efollow\u200f\u200f\u200eing \u200e\u200f\u200f\u200e \u200e"),s.Lb(),s.Lb()}}function m(n,e){if(1&n&&(s.Mb(0,"div",10),s.Mb(1,"h4",4),s.ic(2),s.Lb(),s.Lb()),2&n){var t=s.Wb(2);s.zb(2),s.kc("",t.current_user.fullname,"'s Profile is private, follow to see posts")}}function d(n,e){if(1&n&&(s.Mb(0,"ion-col",19),s.Kb(1,"img",20),s.Lb()),2&n){var t=e.$implicit;s.zb(1),s.bc("src",t.image,s.fc)}}function g(n,e){if(1&n&&(s.Mb(0,"ion-list"),s.Mb(1,"ion-grid"),s.Mb(2,"ion-row"),s.hc(3,d,2,1,"ion-col",18),s.Lb(),s.Lb(),s.Lb()),2&n){var t=s.Wb(3);s.zb(3),s.bc("ngForOf",t.posts)}}function p(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(4).like(n)})),s.Kb(1,"ion-icon",28),s.Lb()}}function h(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(4).unlike(n)})),s.Kb(1,"ion-icon",29),s.Lb()}}function v(n,e){if(1&n&&(s.Mb(0,"p"),s.Mb(1,"b"),s.ic(2),s.Lb(),s.ic(3),s.Lb()),2&n){var t=s.Wb().$implicit;s.zb(2),s.jc(t.username),s.zb(1),s.kc("\u200f\u200f\u200e \u200e",t.caption,"")}}function M(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-label",30),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(4).comment(n)})),s.ic(1),s.Lb()}if(2&n){var i=s.Wb().$implicit;s.zb(1),s.kc(" View all ",null==i.comments?null:i.comments.length," comments...")}}function L(n,e){if(1&n&&(s.Mb(0,"ion-list",1),s.Mb(1,"p"),s.Mb(2,"b"),s.ic(3),s.Lb(),s.ic(4),s.Lb(),s.Lb()),2&n){var t=e.$implicit;s.zb(3),s.kc("\u200f\u200f\u200e",t.username,""),s.zb(1),s.kc("\u200f\u200f\u200e \u200e",t.comment," ")}}function k(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-card"),s.Mb(1,"ion-card-header"),s.Mb(2,"ion-item",1),s.Mb(3,"ion-avatar"),s.Kb(4,"img",20),s.Lb(),s.Mb(5,"h6",22),s.ic(6),s.Lb(),s.Lb(),s.Lb(),s.Kb(7,"img",20),s.Mb(8,"ion-buttons"),s.hc(9,p,2,0,"ion-button",23),s.hc(10,h,2,0,"ion-button",23),s.Mb(11,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=e.$implicit;return s.Wb(4).comment(n)})),s.Kb(12,"ion-icon",25),s.Lb(),s.Lb(),s.Mb(13,"ion-card-content"),s.Mb(14,"p"),s.ic(15),s.Lb(),s.hc(16,v,4,2,"p",5),s.hc(17,M,2,1,"ion-label",26),s.hc(18,L,5,2,"ion-list",27),s.Lb(),s.Mb(19,"ion-label"),s.ic(20),s.Xb(21,"date"),s.Lb(),s.Lb()}if(2&n){var i=e.$implicit,o=s.Wb(4);s.zb(4),s.bc("src",i.userimg,s.fc),s.zb(2),s.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",i.username,""),s.zb(1),s.bc("src",i.image,s.fc),s.zb(2),s.bc("ngIf",!o.liked(i)),s.zb(1),s.bc("ngIf",o.liked(i)),s.zb(5),s.kc("",null==i.likes?null:i.likes.length," Likes"),s.zb(1),s.bc("ngIf",o.ifCaption(i)),s.zb(1),s.bc("ngIf",o.commentSize(i)),s.zb(1),s.bc("ngForOf",i.comments.slice(0,1)),s.zb(2),s.kc("\u200f\u200f\u200e \u200e",s.Yb(21,10,i.posted,"MM/dd/yyyy"),"")}}function w(n,e){if(1&n&&(s.Mb(0,"ion-list"),s.hc(1,k,22,13,"ion-card",21),s.Lb()),2&n){var t=s.Wb(3);s.zb(1),s.bc("ngForOf",t.posts)}}function y(n,e){if(1&n){var t=s.Nb();s.Mb(0,"div"),s.Mb(1,"div"),s.Mb(2,"ion-segment",11),s.Ub("ngModelChange",(function(n){return s.ec(t),s.Wb(2).profile_segment=n})),s.Mb(3,"ion-segment-button",12),s.Kb(4,"ion-icon",13),s.Lb(),s.Mb(5,"ion-segment-button",14),s.Kb(6,"ion-icon",15),s.Lb(),s.Lb(),s.Lb(),s.Mb(7,"div",16),s.hc(8,g,4,1,"ion-list",17),s.hc(9,w,2,1,"ion-list",17),s.Lb(),s.Lb()}if(2&n){var i=s.Wb(2);s.zb(2),s.bc("ngModel",i.profile_segment),s.zb(5),s.bc("ngSwitch",i.profile_segment),s.zb(1),s.bc("ngSwitchCase","grid"),s.zb(1),s.bc("ngSwitchCase","list")}}function z(n,e){if(1&n&&(s.Mb(0,"div"),s.hc(1,m,3,1,"div",9),s.hc(2,y,10,4,"div",5),s.Lb()),2&n){var t=s.Wb();s.zb(1),s.bc("ngIf","true"===t.current_user.privateStat),s.zb(1),s.bc("ngIf","false"===t.current_user.privateStat)}}function _(n,e){if(1&n&&(s.Mb(0,"ion-col",19),s.Kb(1,"img",20),s.Lb()),2&n){var t=e.$implicit;s.zb(1),s.bc("src",t.image,s.fc)}}function C(n,e){if(1&n&&(s.Mb(0,"ion-list"),s.Mb(1,"ion-grid"),s.Mb(2,"ion-row"),s.hc(3,_,2,1,"ion-col",18),s.Lb(),s.Lb(),s.Lb()),2&n){var t=s.Wb(2);s.zb(3),s.bc("ngForOf",t.posts)}}function O(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(3).like(n)})),s.Kb(1,"ion-icon",28),s.Lb()}}function I(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(3).unlike(n)})),s.Kb(1,"ion-icon",29),s.Lb()}}function S(n,e){if(1&n&&(s.Mb(0,"p"),s.Mb(1,"b"),s.ic(2),s.Lb(),s.ic(3),s.Lb()),2&n){var t=s.Wb().$implicit;s.zb(2),s.jc(t.username),s.zb(1),s.kc("\u200f\u200f\u200e \u200e",t.caption,"")}}function W(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-label",30),s.Ub("click",(function(){s.ec(t);var n=s.Wb().$implicit;return s.Wb(3).comment(n)})),s.ic(1),s.Lb()}if(2&n){var i=s.Wb().$implicit;s.zb(1),s.kc(" View all ",null==i.comments?null:i.comments.length," comments...")}}function x(n,e){if(1&n&&(s.Mb(0,"ion-list",1),s.Mb(1,"p"),s.Mb(2,"b"),s.ic(3),s.Lb(),s.ic(4),s.Lb(),s.Lb()),2&n){var t=e.$implicit;s.zb(3),s.kc("\u200f\u200f\u200e",t.username,""),s.zb(1),s.kc("\u200f\u200f\u200e \u200e",t.comment," ")}}function P(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-card"),s.Mb(1,"ion-card-header"),s.Mb(2,"ion-item",1),s.Mb(3,"ion-avatar"),s.Kb(4,"img",20),s.Lb(),s.Mb(5,"h6",22),s.ic(6),s.Lb(),s.Lb(),s.Lb(),s.Kb(7,"img",20),s.Mb(8,"ion-buttons"),s.hc(9,O,2,0,"ion-button",23),s.hc(10,I,2,0,"ion-button",23),s.Mb(11,"ion-button",24),s.Ub("click",(function(){s.ec(t);var n=e.$implicit;return s.Wb(3).comment(n)})),s.Kb(12,"ion-icon",25),s.Lb(),s.Lb(),s.Mb(13,"ion-card-content"),s.Mb(14,"p"),s.ic(15),s.Lb(),s.hc(16,S,4,2,"p",5),s.hc(17,W,2,1,"ion-label",26),s.hc(18,x,5,2,"ion-list",27),s.Lb(),s.Mb(19,"ion-label"),s.ic(20),s.Xb(21,"date"),s.Lb(),s.Lb()}if(2&n){var i=e.$implicit,o=s.Wb(3);s.zb(4),s.bc("src",i.userimg,s.fc),s.zb(2),s.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",i.username,""),s.zb(1),s.bc("src",i.image,s.fc),s.zb(2),s.bc("ngIf",!o.liked(i)),s.zb(1),s.bc("ngIf",o.liked(i)),s.zb(5),s.kc("",null==i.likes?null:i.likes.length," Likes"),s.zb(1),s.bc("ngIf",o.ifCaption(i)),s.zb(1),s.bc("ngIf",o.commentSize(i)),s.zb(1),s.bc("ngForOf",i.comments.slice(0,1)),s.zb(2),s.kc("\u200f\u200f\u200e \u200e",s.Yb(21,10,i.posted,"MM/dd/yyyy"),"")}}function j(n,e){if(1&n&&(s.Mb(0,"ion-list"),s.hc(1,P,22,13,"ion-card",21),s.Lb()),2&n){var t=s.Wb(2);s.zb(1),s.bc("ngForOf",t.posts)}}function F(n,e){if(1&n){var t=s.Nb();s.Mb(0,"div"),s.Mb(1,"div"),s.Mb(2,"ion-segment",11),s.Ub("ngModelChange",(function(n){return s.ec(t),s.Wb().profile_segment=n})),s.Mb(3,"ion-segment-button",12),s.Kb(4,"ion-icon",13),s.Lb(),s.Mb(5,"ion-segment-button",14),s.Kb(6,"ion-icon",15),s.Lb(),s.Lb(),s.Lb(),s.Mb(7,"div",16),s.hc(8,C,4,1,"ion-list",17),s.hc(9,j,2,1,"ion-list",17),s.Lb(),s.Lb()}if(2&n){var i=s.Wb();s.zb(2),s.bc("ngModel",i.profile_segment),s.zb(5),s.bc("ngSwitch",i.profile_segment),s.zb(1),s.bc("ngSwitchCase","grid"),s.zb(1),s.bc("ngSwitchCase","list")}}var U,K,$,T=[{path:"",component:(U=function(){function n(e,t,i,o,r){var c=this;_classCallCheck(this,n),this.route=e,this.router=t,this.userService=i,this.alertController=o,this.toastController=r,this.db=a.firestore(),this.postId=[],this.posts=[],this.profile_segment="grid";var b=this;setTimeout((function(){c.db.collection("users").doc(b.current_user.id).get().then((function(n){var e=n.data();b.postId=e.posts})),setTimeout((function(){var n,e=_createForOfIteratorHelper(b.postId);try{for(e.s();!(n=e.n()).done;){var t=n.value;c.db.collection("posts").doc(t).get().then((function(n){var e=n.data();b.posts.push({caption:e.caption,comments:e.comments,id:e.id,image:e.image,likes:e.likes,posted:e.posted,userimg:e.userimg,username:e.username,pid:n.id})}))}}catch(i){e.e(i)}finally{e.f()}}),300)}),50),this.userService.getObservable().subscribe((function(n){c.followingUser=c.userService.following})),this.followingUser=this.userService.following}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.route.params.subscribe((function(e){n.current_user=e}))}},{key:"commentSize",value:function(n){var e=!1;return 0!==n.comments.length&&(e=!0),e}},{key:"ifCaption",value:function(n){var e=!1;return 0!==n.caption.length&&(e=!0),e}},{key:"follow",value:function(){var n=this,e=!0,t=a.auth().currentUser.uid;this.db.collection("users").doc(n.current_user.id).onSnapshot((function(n){var i,o=_createForOfIteratorHelper(n.data().followers);try{for(o.s();!(i=o.n()).done;)i.value.uid==t&&(e=!1)}catch(r){o.e(r)}finally{o.f()}})),setTimeout((function(){e?(n.followToast(),n.userService.follow(n.current_user)):n.alreadyToast()}),1e3)}},{key:"alreadyToast",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({color:"danger",message:"Follow request already sent",position:"bottom",duration:1e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"followToast",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({color:"success",message:"Follow request sent",position:"bottom",duration:1e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"following",value:function(){var n,e=!1,t=_createForOfIteratorHelper(this.followingUser);try{for(t.s();!(n=t.n()).done;)n.value.uid==this.current_user.uid&&(e=!0)}catch(i){t.e(i)}finally{t.f()}return e}},{key:"unfollow",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this,n.next=3,this.alertController.create({header:"Unfollow",message:"Please confirm unfollow",buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Confirm",role:"confirm",handler:function(){e.userService.unfollow(i.current_user),e.unfollowToast()}}]});case 3:return t=n.sent,n.next=6,t.present();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"unfollowToast",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({color:"success",message:"User unfollowed",position:"bottom",duration:1e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"liked",value:function(n){var e,t=!1,i=_createForOfIteratorHelper(n.likes);try{for(i.s();!(e=i.n()).done;)e.value==this.userService.userDoc&&(t=!0)}catch(o){i.e(o)}finally{i.f()}return t}},{key:"like",value:function(n){this.userService.like(n),n.likes.push(this.userService.userDoc)}},{key:"comment",value:function(n){this.router.navigate(["/comments",n])}},{key:"unlike",value:function(n){this.userService.unlike(n);var e=n.likes,t=e.indexOf(this.userService.userDoc,0);t>-1&&e.splice(t,1)}}]),n}(),U.\u0275fac=function(n){return new(n||U)(s.Jb(c.a),s.Jb(c.g),s.Jb(l.a),s.Jb(r.a),s.Jb(r.O))},U.\u0275cmp=s.Db({type:U,selectors:[["app-user"]],decls:39,vars:11,consts:[["slot","start"],["lines","none"],[1,"ion-padding","bottom"],[1,"avatar",3,"src"],[1,"ion-text-center"],[4,"ngIf"],[1,"padding"],["expand","block",3,"click"],["fill","outline","expand","block",3,"click"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"ngModel","ngModelChange"],["value","grid"],["name","apps"],["value","list"],["name","browsers-sharp"],[3,"ngSwitch"],[4,"ngSwitchCase"],["sizeLg","4","sizeMd","4","sizeXs","4",4,"ngFor","ngForOf"],["sizeLg","4","sizeMd","4","sizeXs","4"],[3,"src"],[4,"ngFor","ngForOf"],[2,"font-weight","bold"],[3,"click",4,"ngIf"],[3,"click"],["name","chatbubble-outline"],["class","color",3,"click",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],["name","heart-outline"],["name","heart","color","danger",1,"border"],[1,"color",3,"click"]],template:function(n,e){1&n&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-title"),s.ic(3),s.Lb(),s.Mb(4,"ion-buttons",0),s.Kb(5,"ion-back-button"),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"ion-item",1),s.Mb(8,"ion-row",2),s.Mb(9,"ion-col"),s.Kb(10,"img",3),s.Lb(),s.Mb(11,"ion-col",4),s.Mb(12,"h6"),s.ic(13),s.Lb(),s.Mb(14,"p"),s.Mb(15,"strong"),s.ic(16,"Posts"),s.Lb(),s.Lb(),s.Lb(),s.Mb(17,"ion-col",4),s.Mb(18,"h6"),s.ic(19),s.Lb(),s.Mb(20,"p"),s.Mb(21,"strong"),s.ic(22,"Followers"),s.Lb(),s.Lb(),s.Lb(),s.Mb(23,"ion-col",4),s.Mb(24,"h6"),s.ic(25),s.Lb(),s.Mb(26,"p"),s.Mb(27,"strong"),s.ic(28,"Following"),s.Lb(),s.Lb(),s.Lb(),s.hc(29,u,3,0,"ion-col",5),s.hc(30,f,3,0,"ion-col",5),s.Lb(),s.Lb(),s.Mb(31,"div",6),s.Mb(32,"p"),s.Mb(33,"b"),s.ic(34),s.Lb(),s.Lb(),s.Mb(35,"p"),s.ic(36),s.Lb(),s.Lb(),s.hc(37,z,3,2,"div",5),s.hc(38,F,10,4,"div",5),s.Lb()),2&n&&(s.zb(3),s.kc("",e.current_user.username,"'s Profile"),s.zb(7),s.bc("src",e.current_user.image,s.fc),s.zb(3),s.jc(e.current_user.posts),s.zb(6),s.jc(e.current_user.followers),s.zb(6),s.jc(e.current_user.following),s.zb(4),s.bc("ngIf",!e.following()),s.zb(1),s.bc("ngIf",e.following()),s.zb(4),s.jc(e.current_user.fullname),s.zb(2),s.jc(e.current_user.status),s.zb(1),s.bc("ngIf",!e.following()),s.zb(1),s.bc("ngIf",e.following()))},directives:[r.q,r.I,r.G,r.h,r.e,r.f,r.n,r.u,r.y,r.m,i.j,r.g,r.A,r.M,o.h,o.j,r.B,r.r,i.k,i.l,r.w,r.p,i.i,r.i,r.k,r.d,r.j,r.v],pipes:[i.d],styles:["ion-content[_ngcontent-%COMP%], ion-header[_ngcontent-%COMP%]{--ion-background-color:#ffdab9}.padding[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-left:20px}.lines[_ngcontent-%COMP%]{border-bottom:1px solid grey;border-top:1px solid grey}.bottom[_ngcontent-%COMP%]{padding-bottom:0}.avatar[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:600px!important;max-height:600px!important;border-radius:30px}ion-card-header[_ngcontent-%COMP%]{padding:0}.black[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{color:#000}.color[_ngcontent-%COMP%]{color:grey}.size[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:30px!important;max-height:30px!important}.center[_ngcontent-%COMP%]{margin:auto}"]}),U)}],N=(($=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:$}),$.\u0275inj=s.Gb({factory:function(n){return new(n||$)},imports:[[c.i.forChild(T)],c.i]}),$),A=((K=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:K}),K.\u0275inj=s.Gb({factory:function(n){return new(n||K)},imports:[[i.b,o.e,r.J,N]]}),K)}}]);