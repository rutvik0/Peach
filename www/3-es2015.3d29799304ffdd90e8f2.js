(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"ct+p":function(n,i,t){"use strict";t.r(i),t.d(i,"HomePageModule",(function(){return M}));var o=t("ofXK"),e=t("3Pt+"),c=t("TEn/"),s=t("tyNb"),b=t("Osjz"),r=t("fXoL"),l=t("xdv0");function u(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-button",1),r.Ub("click",(function(){r.ec(n);const i=r.Wb().$implicit;return r.Wb().like(i)})),r.Kb(1,"ion-icon",12),r.Lb()}}function a(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-button",1),r.Ub("click",(function(){r.ec(n);const i=r.Wb().$implicit;return r.Wb().unlike(i)})),r.Kb(1,"ion-icon",13),r.Lb()}}function f(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-button",1),r.Ub("click",(function(){r.ec(n);const i=r.Wb().$implicit;return r.Wb().bookmark(i)})),r.Kb(1,"ion-icon",14),r.Lb()}}function m(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-button",1),r.Ub("click",(function(){r.ec(n);const i=r.Wb().$implicit;return r.Wb().unsave(i)})),r.Kb(1,"ion-icon",15),r.Lb()}}function h(n,i){if(1&n&&(r.Mb(0,"p"),r.Mb(1,"b"),r.ic(2),r.Lb(),r.ic(3),r.Lb()),2&n){const n=r.Wb().$implicit;r.zb(2),r.jc(n.username),r.zb(1),r.kc("\u200f\u200f\u200e \u200e",n.caption,"")}}function g(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-label",16),r.Ub("click",(function(){r.ec(n);const i=r.Wb().$implicit;return r.Wb().comment(i)})),r.ic(1),r.Lb()}if(2&n){const n=r.Wb().$implicit;r.zb(1),r.kc(" View all ",null==n.comments?null:n.comments.length," comments...")}}function d(n,i){if(1&n&&(r.Mb(0,"ion-list",4),r.Mb(1,"p"),r.Mb(2,"b"),r.ic(3),r.Lb(),r.ic(4),r.Lb(),r.Lb()),2&n){const n=i.$implicit;r.zb(3),r.kc("\u200f\u200f\u200e",n.username,""),r.zb(1),r.kc("\u200f\u200f\u200e \u200e",n.comment," ")}}function p(n,i){if(1&n){const n=r.Nb();r.Mb(0,"ion-card"),r.Mb(1,"ion-card-header"),r.Mb(2,"ion-item",4),r.Mb(3,"ion-avatar"),r.Kb(4,"img",5),r.Lb(),r.Mb(5,"h6",6),r.ic(6),r.Lb(),r.Lb(),r.Lb(),r.Kb(7,"img",5),r.Mb(8,"ion-buttons"),r.hc(9,u,2,0,"ion-button",7),r.hc(10,a,2,0,"ion-button",7),r.Mb(11,"ion-button",1),r.Ub("click",(function(){r.ec(n);const t=i.$implicit;return r.Wb().comment(t)})),r.Kb(12,"ion-icon",8),r.Lb(),r.hc(13,f,2,0,"ion-button",7),r.hc(14,m,2,0,"ion-button",7),r.Lb(),r.Mb(15,"ion-card-content"),r.Mb(16,"p"),r.ic(17),r.Lb(),r.hc(18,h,4,2,"p",9),r.hc(19,g,2,1,"ion-label",10),r.hc(20,d,5,2,"ion-list",11),r.Lb(),r.Mb(21,"ion-label"),r.ic(22),r.Xb(23,"date"),r.Lb(),r.Lb()}if(2&n){const n=i.$implicit,t=r.Wb();r.zb(4),r.bc("src",n.userimg,r.fc),r.zb(2),r.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",n.username,""),r.zb(1),r.bc("src",n.image,r.fc),r.zb(2),r.bc("ngIf",!t.liked(n)),r.zb(1),r.bc("ngIf",t.liked(n)),r.zb(3),r.bc("ngIf",!t.saved(n)),r.zb(1),r.bc("ngIf",t.saved(n)),r.zb(3),r.kc("",null==n.likes?null:n.likes.length," Likes"),r.zb(1),r.bc("ngIf",t.ifCaption(n)),r.zb(1),r.bc("ngIf",t.commentSize(n)),r.zb(1),r.bc("ngForOf",n.comments.slice(0,1)),r.zb(2),r.kc("\u200f\u200f\u200e \u200e",r.Yb(23,12,n.posted,"MM/dd/yyyy"),"")}}const k=[{path:"",component:(()=>{class n{constructor(n,i){this.userService=n,this.router=i,this.following=[],this.followingPosts=[],this.id="",this.save=[],this.db=b.firestore(),setTimeout(()=>{var n=this;this.userService.getObservable().subscribe(i=>{this.following=[],this.save=[],this.save=this.userService.saved,n.following=this.userService.followingPosts,n.id=this.userService.userDoc,n.followingPosts=n.following,n.followingPosts.sort((n,i)=>n.posted<i.posted?1:-1)}),this.following=[],this.save=[],this.save=this.userService.saved,n.following=this.userService.followingPosts,n.id=this.userService.userDoc,n.followingPosts=n.following,n.followingPosts.sort((n,i)=>n.posted<i.posted?1:-1)},1e3)}liked(n){var i=!1;for(let t of n.likes)t==this.id&&(i=!0);return i}saved(n){var i=!1;return this.save.includes(n.pid)&&(i=!0),i}commentSize(n){var i=!1;return 0!==n.comments.length&&(i=!0),i}ifCaption(n){var i=!1;return 0!==n.caption.length&&(i=!0),i}ngOnInit(){}bookmark(n){this.userService.bookmark(n)}unsave(n){this.userService.unsave(n)}like(n){this.userService.like(n),n.likes.push(this.id)}comment(n){this.router.navigate(["/comments",n])}unlike(n){this.userService.unlike(n);var i=n.likes;const t=i.indexOf(this.id,0);t>-1&&i.splice(t,1)}chatList(){this.router.navigate(["/chatlist"])}}return n.\u0275fac=function(i){return new(i||n)(r.Jb(l.a),r.Jb(s.g))},n.\u0275cmp=r.Db({type:n,selectors:[["app-home"]],decls:9,vars:1,consts:[["slot","end"],[3,"click"],["name","chatbubbles-outline"],[4,"ngFor","ngForOf"],["lines","none"],[3,"src"],[2,"font-weight","bold"],[3,"click",4,"ngIf"],["name","chatbubble-outline"],[4,"ngIf"],["class","color",3,"click",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],["name","heart-outline"],["name","heart","color","danger",1,"border"],["name","bookmark-outline"],["name","bookmark"],[1,"color",3,"click"]],template:function(n,i){1&n&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-title"),r.ic(3,"Home"),r.Lb(),r.Mb(4,"ion-buttons",0),r.Mb(5,"ion-button",1),r.Ub("click",(function(){return i.chatList()})),r.Kb(6,"ion-icon",2),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-content"),r.hc(8,p,24,15,"ion-card",3),r.Lb()),2&n&&(r.zb(8),r.bc("ngForOf",i.followingPosts))},directives:[c.q,c.I,c.G,c.h,c.g,c.r,c.n,o.i,c.i,c.k,c.u,c.d,o.j,c.j,c.v,c.w],pipes:[o.d],styles:["ion-card-header[_ngcontent-%COMP%]{padding:0}.black[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{color:#000}.color[_ngcontent-%COMP%]{color:grey}.size[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:30px!important;max-height:30px!important}.center[_ngcontent-%COMP%]{margin:auto}"]}),n})()}];let v=(()=>{class n{}return n.\u0275mod=r.Hb({type:n}),n.\u0275inj=r.Gb({factory:function(i){return new(i||n)},imports:[[s.i.forChild(k)],s.i]}),n})(),M=(()=>{class n{}return n.\u0275mod=r.Hb({type:n}),n.\u0275inj=r.Gb({factory:function(i){return new(i||n)},imports:[[o.b,e.e,c.J,v]]}),n})()}}]);