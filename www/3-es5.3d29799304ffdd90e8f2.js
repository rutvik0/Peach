function _createForOfIteratorHelper(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=_unsupportedIterableToArray(n))){var e=0,t=function(){};return{s:t,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,c=!1;return{s:function(){i=n[Symbol.iterator]()},n:function(){var n=i.next();return r=n.done,n},e:function(n){c=!0,o=n},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"ct+p":function(n,e,t){"use strict";t.r(e),t.d(e,"HomePageModule",(function(){return L}));var i=t("ofXK"),o=t("3Pt+"),r=t("TEn/"),c=t("tyNb"),a=t("Osjz"),b=t("fXoL"),l=t("xdv0");function u(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-button",1),b.Ub("click",(function(){b.ec(t);var n=b.Wb().$implicit;return b.Wb().like(n)})),b.Kb(1,"ion-icon",12),b.Lb()}}function s(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-button",1),b.Ub("click",(function(){b.ec(t);var n=b.Wb().$implicit;return b.Wb().unlike(n)})),b.Kb(1,"ion-icon",13),b.Lb()}}function f(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-button",1),b.Ub("click",(function(){b.ec(t);var n=b.Wb().$implicit;return b.Wb().bookmark(n)})),b.Kb(1,"ion-icon",14),b.Lb()}}function m(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-button",1),b.Ub("click",(function(){b.ec(t);var n=b.Wb().$implicit;return b.Wb().unsave(n)})),b.Kb(1,"ion-icon",15),b.Lb()}}function v(n,e){if(1&n&&(b.Mb(0,"p"),b.Mb(1,"b"),b.ic(2),b.Lb(),b.ic(3),b.Lb()),2&n){var t=b.Wb().$implicit;b.zb(2),b.jc(t.username),b.zb(1),b.kc("\u200f\u200f\u200e \u200e",t.caption,"")}}function p(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-label",16),b.Ub("click",(function(){b.ec(t);var n=b.Wb().$implicit;return b.Wb().comment(n)})),b.ic(1),b.Lb()}if(2&n){var i=b.Wb().$implicit;b.zb(1),b.kc(" View all ",null==i.comments?null:i.comments.length," comments...")}}function d(n,e){if(1&n&&(b.Mb(0,"ion-list",4),b.Mb(1,"p"),b.Mb(2,"b"),b.ic(3),b.Lb(),b.ic(4),b.Lb(),b.Lb()),2&n){var t=e.$implicit;b.zb(3),b.kc("\u200f\u200f\u200e",t.username,""),b.zb(1),b.kc("\u200f\u200f\u200e \u200e",t.comment," ")}}function h(n,e){if(1&n){var t=b.Nb();b.Mb(0,"ion-card"),b.Mb(1,"ion-card-header"),b.Mb(2,"ion-item",4),b.Mb(3,"ion-avatar"),b.Kb(4,"img",5),b.Lb(),b.Mb(5,"h6",6),b.ic(6),b.Lb(),b.Lb(),b.Lb(),b.Kb(7,"img",5),b.Mb(8,"ion-buttons"),b.hc(9,u,2,0,"ion-button",7),b.hc(10,s,2,0,"ion-button",7),b.Mb(11,"ion-button",1),b.Ub("click",(function(){b.ec(t);var n=e.$implicit;return b.Wb().comment(n)})),b.Kb(12,"ion-icon",8),b.Lb(),b.hc(13,f,2,0,"ion-button",7),b.hc(14,m,2,0,"ion-button",7),b.Lb(),b.Mb(15,"ion-card-content"),b.Mb(16,"p"),b.ic(17),b.Lb(),b.hc(18,v,4,2,"p",9),b.hc(19,p,2,1,"ion-label",10),b.hc(20,d,5,2,"ion-list",11),b.Lb(),b.Mb(21,"ion-label"),b.ic(22),b.Xb(23,"date"),b.Lb(),b.Lb()}if(2&n){var i=e.$implicit,o=b.Wb();b.zb(4),b.bc("src",i.userimg,b.fc),b.zb(2),b.kc("\u200f\u200f\u200e \u200e\u200f\u200f\u200e \u200e",i.username,""),b.zb(1),b.bc("src",i.image,b.fc),b.zb(2),b.bc("ngIf",!o.liked(i)),b.zb(1),b.bc("ngIf",o.liked(i)),b.zb(3),b.bc("ngIf",!o.saved(i)),b.zb(1),b.bc("ngIf",o.saved(i)),b.zb(3),b.kc("",null==i.likes?null:i.likes.length," Likes"),b.zb(1),b.bc("ngIf",o.ifCaption(i)),b.zb(1),b.bc("ngIf",o.commentSize(i)),b.zb(1),b.bc("ngForOf",i.comments.slice(0,1)),b.zb(2),b.kc("\u200f\u200f\u200e \u200e",b.Yb(23,12,i.posted,"MM/dd/yyyy"),"")}}var g,k,y,w=[{path:"",component:(g=function(){function n(e,t){var i=this;_classCallCheck(this,n),this.userService=e,this.router=t,this.following=[],this.followingPosts=[],this.id="",this.save=[],this.db=a.firestore(),setTimeout((function(){var n=i;i.userService.getObservable().subscribe((function(e){i.following=[],i.save=[],i.save=i.userService.saved,n.following=i.userService.followingPosts,n.id=i.userService.userDoc,n.followingPosts=n.following,n.followingPosts.sort((function(n,e){return n.posted<e.posted?1:-1}))})),i.following=[],i.save=[],i.save=i.userService.saved,n.following=i.userService.followingPosts,n.id=i.userService.userDoc,n.followingPosts=n.following,n.followingPosts.sort((function(n,e){return n.posted<e.posted?1:-1}))}),1e3)}return _createClass(n,[{key:"liked",value:function(n){var e,t=!1,i=_createForOfIteratorHelper(n.likes);try{for(i.s();!(e=i.n()).done;)e.value==this.id&&(t=!0)}catch(o){i.e(o)}finally{i.f()}return t}},{key:"saved",value:function(n){var e=!1;return this.save.includes(n.pid)&&(e=!0),e}},{key:"commentSize",value:function(n){var e=!1;return 0!==n.comments.length&&(e=!0),e}},{key:"ifCaption",value:function(n){var e=!1;return 0!==n.caption.length&&(e=!0),e}},{key:"ngOnInit",value:function(){}},{key:"bookmark",value:function(n){this.userService.bookmark(n)}},{key:"unsave",value:function(n){this.userService.unsave(n)}},{key:"like",value:function(n){this.userService.like(n),n.likes.push(this.id)}},{key:"comment",value:function(n){this.router.navigate(["/comments",n])}},{key:"unlike",value:function(n){this.userService.unlike(n);var e=n.likes,t=e.indexOf(this.id,0);t>-1&&e.splice(t,1)}},{key:"chatList",value:function(){this.router.navigate(["/chatlist"])}}]),n}(),g.\u0275fac=function(n){return new(n||g)(b.Jb(l.a),b.Jb(c.g))},g.\u0275cmp=b.Db({type:g,selectors:[["app-home"]],decls:9,vars:1,consts:[["slot","end"],[3,"click"],["name","chatbubbles-outline"],[4,"ngFor","ngForOf"],["lines","none"],[3,"src"],[2,"font-weight","bold"],[3,"click",4,"ngIf"],["name","chatbubble-outline"],[4,"ngIf"],["class","color",3,"click",4,"ngIf"],["lines","none",4,"ngFor","ngForOf"],["name","heart-outline"],["name","heart","color","danger",1,"border"],["name","bookmark-outline"],["name","bookmark"],[1,"color",3,"click"]],template:function(n,e){1&n&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.ic(3,"Home"),b.Lb(),b.Mb(4,"ion-buttons",0),b.Mb(5,"ion-button",1),b.Ub("click",(function(){return e.chatList()})),b.Kb(6,"ion-icon",2),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(7,"ion-content"),b.hc(8,h,24,15,"ion-card",3),b.Lb()),2&n&&(b.zb(8),b.bc("ngForOf",e.followingPosts))},directives:[r.q,r.I,r.G,r.h,r.g,r.r,r.n,i.i,r.i,r.k,r.u,r.d,i.j,r.j,r.v,r.w],pipes:[i.d],styles:["ion-card-header[_ngcontent-%COMP%]{padding:0}.black[_ngcontent-%COMP%], ion-card-content[_ngcontent-%COMP%]{color:#000}.color[_ngcontent-%COMP%]{color:grey}.size[_ngcontent-%COMP%]{width:100%!important;height:100%!important;max-width:30px!important;max-height:30px!important}.center[_ngcontent-%COMP%]{margin:auto}"]}),g)}],M=((y=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:y}),y.\u0275inj=b.Gb({factory:function(n){return new(n||y)},imports:[[c.i.forChild(w)],c.i]}),y),L=((k=function n(){_classCallCheck(this,n)}).\u0275mod=b.Hb({type:k}),k.\u0275inj=b.Gb({factory:function(n){return new(n||k)},imports:[[i.b,o.e,r.J,M]]}),k)}}]);