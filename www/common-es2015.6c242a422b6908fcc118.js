(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6i10":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));const i={bubbles:{dur:1e3,circles:9,fn:(e,t,s)=>{const i=`${e*t/s-e}ms`,o=2*Math.PI*t/s;return{r:5,style:{top:`${9*Math.sin(o)}px`,left:`${9*Math.cos(o)}px`,"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(e,t,s)=>{const i=t/s,o=`${e*i-e}ms`,r=2*Math.PI*i;return{r:5,style:{top:`${9*Math.sin(r)}px`,left:`${9*Math.cos(r)}px`,"animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:`${9-9*t}px`,"animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,s)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":`${e*t/s-e}ms`}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,s)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":`${e*t/s-e}ms`}})}}},KwJk:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return n}));const i=(e,t)=>null!==t.closest(e),o=e=>"string"==typeof e&&e.length>0?{"ion-color":!0,[`ion-color-${e}`]:!0}:void 0,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},a=/^[a-z][a-z0-9+\-.]*:/,n=async(e,t,s)=>{if(null!=e&&"#"!==e[0]&&!a.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,s)}return!1}},NqGI:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o}));const i=async(e,t,s,i,o)=>{if(e)return e.attachViewToDom(t,s,o,i);if("string"!=typeof s&&!(s instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof s?t.ownerDocument&&t.ownerDocument.createElement(s):s;return i&&i.forEach(e=>r.classList.add(e)),o&&Object.assign(r,o),t.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},o=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},xdv0:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("Osjz"),o=s("XNiG"),r=s("fXoL");let a=(()=>{class e{constructor(){this.eventSubject=new o.a,this.db=i.firestore(),this.storage=i.storage(),this.storageRef=this.storage.ref(),this.allPosts=[],this.username="",this.image="",this.status="",this.fullname="",this.posts=[],this.followers=[],this.following=[],this.users=[],this.followingPostId=[],this.followingPosts=[],this.privateStat=!0,this.homePosts=[],this.savedPosts=[],this.chats=[],this.saved=[];var e=this;this.db.collection("users").onSnapshot((function(t){e.users=[],t.forEach((function(t){var s=t.data();e.users.push({username:s.username,image:s.image,uid:s.uid,privateStat:s.privateStat,status:s.status,fullname:s.fullname,followers:s.followers.length,following:s.following.length,id:t.id,posts:s.posts.length})})),e.publishEvent({foo:"bar"})})),this.db.collection("posts").onSnapshot((function(t){e.allPosts=[],t.forEach((function(t){var s=t.data();e.allPosts.push({caption:s.caption,comments:s.comments,id:s.id,image:s.image,likes:s.likes,posted:s.posted,userimg:s.userimg,username:s.username,pid:t.id})})),e.publishEvent({foo:"bar"})}))}publishEvent(e){this.eventSubject.next(e)}getObservable(){return this.eventSubject}setUsername(e,t,s,o,r,a,n,u,l,c){var d=this;this.username=e,this.image=t,this.status=s,this.followers=r,this.following=a,this.fullname=n,this.privateStat=u,this.userDoc=l,this.posts=o,this.userRef=this.db.collection("users").doc(this.userDoc),this.followingPosts=[],this.homePosts=[],this.currUser=i.auth().currentUser.uid,this.db.collection("posts").onSnapshot((function(e){d.allPosts=[],d.followingPostId=[],e.forEach((function(e){var t=e.data();d.allPosts.push({caption:t.caption,comments:t.comments,id:t.id,image:t.image,likes:t.likes,posted:t.posted,userimg:t.userimg,username:t.username,pid:e.id})})),d.publishEvent({foo:"bar"})}));for(let i of a)d.db.collection("users").doc(i.id).get().then((function(e){var t=e.data().posts;for(let s of t)d.followingPostId.push(s)}));setTimeout(()=>{for(let e of d.allPosts)o.includes(e.pid)?d.homePosts.push(e):d.followingPostId.includes(e.pid)&&d.followingPosts.push(e)},500),setTimeout(()=>{d.homePosts.sort((e,t)=>e.posted<t.posted?1:-1),d.followingPosts.sort((e,t)=>e.posted<t.posted?1:-1)},500),this.db.collection("users").onSnapshot((function(e){e.forEach((function(e){var t=e.data();t.uid==d.currUser&&(d.username=t.username,d.image=t.image,d.status=t.status,d.posts=t.posts,d.following=t.following,d.followers=t.followers,d.fullname=t.fullname,d.privateStat=t.privateStat,d.saved=t.saved,d.savedPosts=[],setTimeout(()=>{for(let e of d.allPosts)d.saved.includes(e.pid)&&d.savedPosts.push(e);d.savedPosts.sort((e,t)=>e.posted<t.posted?1:-1)},500))})),d.publishEvent({foo:"bar"})})),this.db.collection("users").onSnapshot((function(e){d.users=[],e.forEach((function(e){var t=e.data();if(t.uid!=d.currUser){var s=t.followers,i=0;for(let e of s)"true"==e.status&&i++;d.users.push({username:t.username,image:t.image,uid:t.uid,privateStat:t.privateStat,status:t.status,fullname:t.fullname,followers:i,following:t.following.length,id:e.id,posts:t.posts.length})}})),d.publishEvent({foo:"bar"})})),this.db.collection("chat").onSnapshot((function(e){d.chats=[],e.forEach((function(e){var t=e.data(),s=t.uid;if(s.includes(d.currUser)){for(let e of t.usernames)if(e!=d.username)var i=e;for(let e of s)if(e!=d.currUser)var o=e;d.chats.push({username:i,id:t.id,uid:o})}})),d.publishEvent({foo:"bar"})}))}makePost(e,t){var s=this,o=[];o.push(s.userDoc);var r=[];this.homePosts.push({username:s.username,userimg:s.image,id:s.userDoc,posted:Date.now(),image:e,caption:t,likes:o,comments:r}),this.db.collection("posts").add({username:s.username,userimg:s.image,id:s.userDoc,posted:Date.now(),image:e,caption:t,likes:o,comments:r}).then((function(e){s.userRef.update({posts:i.firestore.FieldValue.arrayUnion(e.id)})}))}updateImage(e){this.image=e,this.userRef.update({image:e})}updateProfile(e,t,s,i){this.fullname=e,this.username=t,this.status=s,this.privateStat=i,this.userRef.update({fullname:e,username:t,status:s,privateStat:i})}removeProfilePic(){if("assets/avatar.png"!=this.image){let e=this.image,t=e.substr(e.indexOf("%2F")+3,e.indexOf("?")-(e.indexOf("%2F")+3));t=t.replace("%20"," "),t=t.substr(t.indexOf("/o/")),t=t.substring(3),this.storageRef.child(t).delete(),this.userRef.update({image:"assets/avatar.png"}),this.image="assets/avatar.png"}}follow(e){this.db.collection("users").doc(e.id).update({followers:i.firestore.FieldValue.arrayUnion({username:this.username,uid:this.currUser,status:"req",image:this.image,id:this.userDoc})})}reqAccept(e){this.userFollowing(e),this.userRef.update({followers:i.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:e.status,image:e.image,id:e.id})}),this.userRef.update({followers:i.firestore.FieldValue.arrayUnion({username:e.username,uid:e.uid,status:"true",image:e.image,id:e.id})})}userFollowing(e){this.db.collection("users").doc(e.id).update({following:i.firestore.FieldValue.arrayUnion({username:this.username,uid:this.currUser,status:"true",image:this.image,id:this.userDoc})})}reqReject(e){this.userRef.update({followers:i.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:e.status,image:e.image,id:e.id})})}unfollow(e){console.log(e),this.db.collection("users").doc(e.id).update({followers:i.firestore.FieldValue.arrayRemove({username:this.username,uid:this.currUser,status:"true",image:this.image,id:this.userDoc})}),this.userRef.update({following:i.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:"true",image:e.image,id:e.id})})}like(e){var t=e.pid;this.db.collection("posts").doc(t).update({likes:i.firestore.FieldValue.arrayUnion(this.userDoc)})}unlike(e){var t=e.pid;this.db.collection("posts").doc(t).update({likes:i.firestore.FieldValue.arrayRemove(this.userDoc)})}addComment(e,t){var s=e.pid;this.db.collection("posts").doc(s).update({comments:i.firestore.FieldValue.arrayUnion({userimg:this.image,username:this.username,comment:t})})}bookmark(e){this.userRef.update({saved:i.firestore.FieldValue.arrayUnion(e.pid)})}unsave(e){this.userRef.update({saved:i.firestore.FieldValue.arrayRemove(e.pid)})}createChat(e){var t,s=this,i=e[0].uid;t=i<this.currUser?i+this.currUser:this.currUser+i,this.db.collection("chat").doc(t).get().then(o=>{if(!o.exists){var r=[s.currUser,i],a=[s.username,e[0].username];s.db.collection("chat").doc(t).set({usernames:a,uid:r,chat:[],id:t})}})}send(e,t){this.db.collection("chat").doc(t).update({chat:i.firestore.FieldValue.arrayUnion({time:Date.now(),name:this.username,message:e})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},xgmX:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"d",(function(){return n})),s.d(t,"e",(function(){return o}));const i={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const s=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:s})},notification(e){const t=this.getEngine();if(!t)return;const s=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:s})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())}},o=()=>{i.selection()},r=()=>{i.selectionStart()},a=()=>{i.selectionChanged()},n=()=>{i.selectionEnd()},u=e=>{i.impact(e)}}}]);