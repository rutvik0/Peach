function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function asyncGeneratorStep(e,t,r,n,i,s,a){try{var o=e[s](a),u=o.value}catch(c){return void r(c)}o.done?t(u):Promise.resolve(u).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){asyncGeneratorStep(s,n,i,a,o,"next",e)}function o(e){asyncGeneratorStep(s,n,i,a,o,"throw",e)}a(void 0)}))}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6i10":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={bubbles:{dur:1e3,circles:9,fn:function(e,t,r){var n="".concat(e*t/r-e,"ms"),i=2*Math.PI*t/r;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:function(e,t,r){var n=t/r,i="".concat(e*n-e,"ms"),s=2*Math.PI*n;return{r:5,style:{top:"".concat(9*Math.sin(s),"px"),left:"".concat(9*Math.cos(s),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){return{r:6,style:{left:"".concat(9-9*t,"px"),"animation-delay":-110*t+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(e,t,r){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/r-e,"ms")}}}},"lines-small":{dur:1e3,lines:12,fn:function(e,t,r){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/r-e,"ms")}}}}}},KwJk:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o}));var n=function(e,t){return null!==t.closest(e)},i=function(e){return"string"==typeof e&&e.length>0?_defineProperty({"ion-color":!0},"ion-color-".concat(e),!0):void 0},s=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter((function(e){return null!=e})).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}(e).forEach((function(e){return t[e]=!0})),t},a=/^[a-z][a-z0-9+\-.]*:/,o=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||a.test(t)){e.next=4;break}if(!(i=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=r&&r.preventDefault(),i.push(t,n)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},NqGI:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,i,s){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(r,n,s,i));case 2:if("string"==typeof n||n instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:if(a="string"==typeof n?r.ownerDocument&&r.ownerDocument.createElement(n):n,i&&i.forEach((function(e){return a.classList.add(e)})),s&&Object.assign(a,s),r.appendChild(a),e.t0=a.componentOnReady,!e.t0){e.next=12;break}return e.next=12,a.componentOnReady();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n,i,s){return e.apply(this,arguments)}}(),i=function(e,t){if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},xdv0:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("Osjz"),i=r("XNiG"),s=r("fXoL"),a=function(){var e=function(){function e(){_classCallCheck(this,e),this.eventSubject=new i.a,this.db=n.firestore(),this.storage=n.storage(),this.storageRef=this.storage.ref(),this.allPosts=[],this.username="",this.image="",this.status="",this.fullname="",this.posts=[],this.followers=[],this.following=[],this.users=[],this.followingPostId=[],this.followingPosts=[],this.privateStat=!0,this.homePosts=[],this.savedPosts=[],this.chats=[],this.saved=[];var t=this;this.db.collection("users").onSnapshot((function(e){t.users=[],e.forEach((function(e){var r=e.data();t.users.push({username:r.username,image:r.image,uid:r.uid,privateStat:r.privateStat,status:r.status,fullname:r.fullname,followers:r.followers.length,following:r.following.length,id:e.id,posts:r.posts.length})})),t.publishEvent({foo:"bar"})})),this.db.collection("posts").onSnapshot((function(e){t.allPosts=[],e.forEach((function(e){var r=e.data();t.allPosts.push({caption:r.caption,comments:r.comments,id:r.id,image:r.image,likes:r.likes,posted:r.posted,userimg:r.userimg,username:r.username,pid:e.id})})),t.publishEvent({foo:"bar"})}))}return _createClass(e,[{key:"publishEvent",value:function(e){this.eventSubject.next(e)}},{key:"getObservable",value:function(){return this.eventSubject}},{key:"setUsername",value:function(e,t,r,i,s,a,o,u,c,l){var f=this;this.username=e,this.image=t,this.status=r,this.followers=s,this.following=a,this.fullname=o,this.privateStat=u,this.userDoc=c,this.posts=i,this.userRef=this.db.collection("users").doc(this.userDoc),this.followingPosts=[],this.homePosts=[],this.currUser=n.auth().currentUser.uid,this.db.collection("posts").onSnapshot((function(e){f.allPosts=[],f.followingPostId=[],e.forEach((function(e){var t=e.data();f.allPosts.push({caption:t.caption,comments:t.comments,id:t.id,image:t.image,likes:t.likes,posted:t.posted,userimg:t.userimg,username:t.username,pid:e.id})})),f.publishEvent({foo:"bar"})}));var d,h=_createForOfIteratorHelper(a);try{for(h.s();!(d=h.n()).done;){var p=d.value;f.db.collection("users").doc(p.id).get().then((function(e){var t,r=_createForOfIteratorHelper(e.data().posts);try{for(r.s();!(t=r.n()).done;){var n=t.value;f.followingPostId.push(n)}}catch(i){r.e(i)}finally{r.f()}}))}}catch(m){h.e(m)}finally{h.f()}setTimeout((function(){var e,t=_createForOfIteratorHelper(f.allPosts);try{for(t.s();!(e=t.n()).done;){var r=e.value;i.includes(r.pid)?f.homePosts.push(r):f.followingPostId.includes(r.pid)&&f.followingPosts.push(r)}}catch(m){t.e(m)}finally{t.f()}}),500),setTimeout((function(){f.homePosts.sort((function(e,t){return e.posted<t.posted?1:-1})),f.followingPosts.sort((function(e,t){return e.posted<t.posted?1:-1}))}),500),this.db.collection("users").onSnapshot((function(e){e.forEach((function(e){var t=e.data();t.uid==f.currUser&&(f.username=t.username,f.image=t.image,f.status=t.status,f.posts=t.posts,f.following=t.following,f.followers=t.followers,f.fullname=t.fullname,f.privateStat=t.privateStat,f.saved=t.saved,f.savedPosts=[],setTimeout((function(){var e,t=_createForOfIteratorHelper(f.allPosts);try{for(t.s();!(e=t.n()).done;){var r=e.value;f.saved.includes(r.pid)&&f.savedPosts.push(r)}}catch(m){t.e(m)}finally{t.f()}f.savedPosts.sort((function(e,t){return e.posted<t.posted?1:-1}))}),500))})),f.publishEvent({foo:"bar"})})),this.db.collection("users").onSnapshot((function(e){f.users=[],e.forEach((function(e){var t=e.data();if(t.uid!=f.currUser){var r,n=0,i=_createForOfIteratorHelper(t.followers);try{for(i.s();!(r=i.n()).done;){"true"==r.value.status&&n++}}catch(m){i.e(m)}finally{i.f()}f.users.push({username:t.username,image:t.image,uid:t.uid,privateStat:t.privateStat,status:t.status,fullname:t.fullname,followers:n,following:t.following.length,id:e.id,posts:t.posts.length})}})),f.publishEvent({foo:"bar"})})),this.db.collection("chat").onSnapshot((function(e){f.chats=[],e.forEach((function(e){var t=e.data(),r=t.uid;if(r.includes(f.currUser)){var n,i=_createForOfIteratorHelper(t.usernames);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s!=f.username)var a=s}}catch(m){i.e(m)}finally{i.f()}var o,u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c!=f.currUser)var l=c}}catch(m){u.e(m)}finally{u.f()}f.chats.push({username:a,id:t.id,uid:l})}})),f.publishEvent({foo:"bar"})}))}},{key:"makePost",value:function(e,t){var r=this,i=[];i.push(r.userDoc);var s=[];this.homePosts.push({username:r.username,userimg:r.image,id:r.userDoc,posted:Date.now(),image:e,caption:t,likes:i,comments:s}),this.db.collection("posts").add({username:r.username,userimg:r.image,id:r.userDoc,posted:Date.now(),image:e,caption:t,likes:i,comments:s}).then((function(e){r.userRef.update({posts:n.firestore.FieldValue.arrayUnion(e.id)})}))}},{key:"updateImage",value:function(e){this.image=e,this.userRef.update({image:e})}},{key:"updateProfile",value:function(e,t,r,n){this.fullname=e,this.username=t,this.status=r,this.privateStat=n,this.userRef.update({fullname:e,username:t,status:r,privateStat:n})}},{key:"removeProfilePic",value:function(){if("assets/avatar.png"!=this.image){var e=this.image,t=e.substr(e.indexOf("%2F")+3,e.indexOf("?")-(e.indexOf("%2F")+3));t=(t=(t=t.replace("%20"," ")).substr(t.indexOf("/o/"))).substring(3),this.storageRef.child(t).delete(),this.userRef.update({image:"assets/avatar.png"}),this.image="assets/avatar.png"}}},{key:"follow",value:function(e){this.db.collection("users").doc(e.id).update({followers:n.firestore.FieldValue.arrayUnion({username:this.username,uid:this.currUser,status:"req",image:this.image,id:this.userDoc})})}},{key:"reqAccept",value:function(e){this.userFollowing(e),this.userRef.update({followers:n.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:e.status,image:e.image,id:e.id})}),this.userRef.update({followers:n.firestore.FieldValue.arrayUnion({username:e.username,uid:e.uid,status:"true",image:e.image,id:e.id})})}},{key:"userFollowing",value:function(e){this.db.collection("users").doc(e.id).update({following:n.firestore.FieldValue.arrayUnion({username:this.username,uid:this.currUser,status:"true",image:this.image,id:this.userDoc})})}},{key:"reqReject",value:function(e){this.userRef.update({followers:n.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:e.status,image:e.image,id:e.id})})}},{key:"unfollow",value:function(e){console.log(e),this.db.collection("users").doc(e.id).update({followers:n.firestore.FieldValue.arrayRemove({username:this.username,uid:this.currUser,status:"true",image:this.image,id:this.userDoc})}),this.userRef.update({following:n.firestore.FieldValue.arrayRemove({username:e.username,uid:e.uid,status:"true",image:e.image,id:e.id})})}},{key:"like",value:function(e){var t=e.pid;this.db.collection("posts").doc(t).update({likes:n.firestore.FieldValue.arrayUnion(this.userDoc)})}},{key:"unlike",value:function(e){var t=e.pid;this.db.collection("posts").doc(t).update({likes:n.firestore.FieldValue.arrayRemove(this.userDoc)})}},{key:"addComment",value:function(e,t){var r=e.pid;this.db.collection("posts").doc(r).update({comments:n.firestore.FieldValue.arrayUnion({userimg:this.image,username:this.username,comment:t})})}},{key:"bookmark",value:function(e){this.userRef.update({saved:n.firestore.FieldValue.arrayUnion(e.pid)})}},{key:"unsave",value:function(e){this.userRef.update({saved:n.firestore.FieldValue.arrayRemove(e.pid)})}},{key:"createChat",value:function(e){var t,r=this,n=e[0].uid;t=n<this.currUser?n+this.currUser:this.currUser+n,this.db.collection("chat").doc(t).get().then((function(i){if(!i.exists){var s=[r.currUser,n],a=[r.username,e[0].username];r.db.collection("chat").doc(t).set({usernames:a,uid:s,chat:[],id:t})}}))}},{key:"send",value:function(e,t){this.db.collection("chat").doc(t).update({chat:n.firestore.FieldValue.arrayUnion({time:Date.now(),name:this.username,message:e})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},xgmX:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return i}));var n={getEngine:function(){var e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var r=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:r})}},notification:function(e){var t=this.getEngine();if(t){var r=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:r})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())}},i=function(){n.selection()},s=function(){n.selectionStart()},a=function(){n.selectionChanged()},o=function(){n.selectionEnd()},u=function(e){n.impact(e)}}}]);